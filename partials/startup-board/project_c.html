
<div class="contents">
<div class="page-header">
    <h2 style=" padding-left: 5%;">2. 스칼라?! 당신은 누구신가요?!</h2>
    <h3 style=" padding-left: 5%;"> : Scala Application</h3>
     <p align = "right" style=" padding-right: 6%;">- 2016-08-05 -</p>
    <p align = "right" style=" padding-right: 5%;"><span span style="font-style:italic">Write by</span> highluck</p>
    
       <div style=" padding-left: 5%;" class="chipsdemoStaticChips" layout="column">
                <md-content class="md-padding" layout="column">
                  <md-chips>
                      <code>Scala</code>
                      <code>Tcp</code>  
                 </md-chips>
                </md-content>
        </div>
</div>

<div class = "footer footer-font" style="width:90%">
    <p>&nbsp;이번엔 전포스팅에서 이야기한 보내는 서버를 개발해야 한다. </p>
    <br>
    <p>&nbsp;내가 스칼라를 사용했던 이유는 단순했다. 먼저 "폴리글랏프로그래밍"책을 통해서 트위터에서 스칼라를 도입한 이야기가 감명깊었다. 트위터는 다음과 같은 이유로 스칼라를 도입했다.</p><br>
    <h4>1. 코딩이 재밌어야한다. 자바는 지루하다.</h4>
    <h4>2. 대용량 트래픽처리에 있어서 속도가 나쁘지 않아야한다.</h4><br>
    <p>&nbsp;트위터가 스칼라를 도입한 이유는 생각보다 거창하지 않다. 그리고 위의 의견에 나도 충분히 공감했다. (사실 나는 자바도 재밌다.) 우리는 아직은 대용량 트래픽처리를 고려할필요는 없지만 앞으로를 위해서 스칼라를 해보는것이 나쁘지 않고 내게도 새로운 설레임이기 때문에 스칼라를 사용하기로 결정했다.</p>
    <br>
    <h3>- 스칼라 시작 -</h3>
    <p>설계를 미리 해놓았기 때문에 바로 프로젝트를 만들고 패키지를 구성하고 개발을 시작!!...하자마자 난관에 봉착했다. 처음 접했을때 문법이 생각보다 어려웠다. 처음으로 겪은 문제는 다음 예시같은 문제 였다.</p><br>
    
    <p>val a = 3 //선언<br>
    a = 6 //다시 값 정의</p>
    <h4>헉 안된다... 뭐지 뭐지???</h4>
    <p> 그리고 또...</p>
    <br>
    <p>def Add(a:int, b:Int) : Int = {<br>
    &nbsp;&nbsp;&nbsp; return a + b<br>
        }
    </p>
    <h4>헉 안된다... 뭐지 뭐지???</h4>
    <br>
    
    <p>&nbsp;그렇다.. 나는 자만했다. 공부를 안하고 스칼라를 먼저 만지작 거렸다. (변명을 하자면 스칼라를 빠르게 만나고 싶었지 때문...으헉 ㅋㅋ) 사실 되게 간단한 문제였다. 스칼라에는 기본적으로 val과 var 두가지 타입이 있는데 val 은 Immutable 즉 getter만 있고 setter는 없는 타입이다. setter와 getter를 모두 사용하려면 var를 사용해야했다. </p>
    <p>&nbsp;두번째 문제는 더 간단했다. 스칼라는 기본적으로 마지막 값을 return 해준다. 정말 내가 생각해도 황당한 바보짓거리 였다. 자만심이 부른 비극... 하지만 이대로 포기하지 않는다. 잠시 멈추고 공부를 한 후 다시 개발을 시작했다.</p><br>
    <h3>- 이것은 Java인가.. Scala인가.. -</h3>
    <p>&nbsp;틈틈히 책을 정독하고 다시 Scala로 개발을 시작했다. 그리고 험난한 여정끝에 개발은 무사히 마쳤지만 개발을 모두 마친후 나의 코드를 보니... 이게 자바인지 스칼라인지.. 스칼라를 참 자바처럼 코딩해버렸다. OTL.. 물론 이전 게임회사에서 C#을해서 Lambda를 좀 사용해서 Lambda를 사용하는 것에 거부감은 없었지만 나스스로가 함수형이란 개념을 잘몰랐던 것 같다. 그러다보니 Java컬렉션만 잔득사용한 Javcala(잡칼라)가 되버렸다. 그래도 사실 장점이 많은 언어였다. 특히 자바의 interface를 대신한 trait은 상당히 매력적이었다.
    </p><br>
    <h3>- 스칼라의 trait -</h3>
    <p>&nbsp;스칼라는 interface라는 개념 대신 trait이 있는데 이것은 자바의 interface가 뼈대만 제공할 수 있는 것과 다르게 구현을 할 수 있다 그리고 물론 interface를 대신하는 개념이기 때문에 여러개의 trait을 간단히 with를 선언하는 것으로 믹스할 수 있다. 그리고 trait은 latebinding하기 때문에 다중상속에서 메서드 충돌 문제가 없다.다음은 예시 코드 이다.</p><br>
    <h4>Scala</h4>
    <div class="highlighter-rouge  footer-font"><pre class="highlight"><code>
trait Me {
  def name: String = { "이상운" }
}
trait You {
  def youName: String = { "김상순" }
}
class Mix extends Me with YOU{
  def mixName : String = { name + youName}
}
    </code></pre>
    </div>  <br>
    <p>그리고 이걸 자바로 개발하면 다음과 같다.</p><br>
    
    <h4>Java</h4>
    <div class="highlighter-rouge footer-font"><pre class="highlight"><code>
public InterFace Me{
    String name();
}      
public InterFace You{
    String youName();
} 
Class Mix Implements Me, You{
    String name(){
        return "이상운";
    }
    String youName(){
        return "김상순";
    }
    String Mix(){
        return name + youName; 
    }
}
    </code></pre>
    </div>  <br>
     <p> 이러한 차이가 있다. 따로 구현을 또하지 않아도 되기 때문에 interface보다 편하다는 느낌을 받을 수 있다. 그리고 자바의 interface와는 아마 다른 방향으로 이용되지 않을까 싶다.</p>
    <p> 그리고 인스턴스를 생성할 때도 선택적으로 Mixed in 할 수 있다. 
    </p>
    <div class="highlighter-rouge footer-font"><pre><code>
class Mix {
    val mixName = new Name with Me
}
    </code></pre>
    </div>  <br>
    <p>여기 까지 trait을 보면 Scala는 Java보다 더 OOP스러운 개발 즉, 의존성 같은 것을 낮추는 개발을 할 수 있을 것 같다.</p>
        
    <h4>근데 여기서 잠깐 그러면 그냥 클래스를 상속받는 것과 무슨 차이지? </h4>
    <p>trait도 만능은 아니다 클래스와 다른 점은 다음과 같다.</p><br>
    <h4>1. 생성자 파라미터를 받을 수 없다.</h4>
    <h4>2. 초기화 되지않은 값들을 위해 Mixed in을 구현해야한다. </h4>  
    
    <p>1번의 이야기는 쉽게 이해할수 있을 것이다. 그러나 2번은 무슨소리지? 할 수도 있다는 생각을 했다. 2번은 trait에서 구현한 내용을 사용하기 위해서 클래스에 Mixed in을 해서 사용해야한다는 이야기다. 즉 객체로 사용할 수 없다는 이야기 이다.</p>
    
    <p> 아직 스칼라에 대해 다 모르겠다 집에서 공부를 더 해야겠다. 그리고 회사에서는 Java를 열심히 해야겠다. 그래도 스칼라! 매력적이고 재밌었다. 
    </p>
</div>
</div>    
